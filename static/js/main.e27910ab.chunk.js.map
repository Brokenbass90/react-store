{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Main.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","target","rel","Footer","Date","getFullYear","Preloader","GoodsItem","props","name","description","price","full_background","addToBasket","Function","prototype","src","alt","onClick","GoodsList","goods","length","map","item","Cart","quantity","handleBaskedShow","BasketItem","removeFromBasket","incQuantity","decQuantity","class","BasketList","order","totalPrice","reduce","sum","elem","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Main","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBaskedShow","alertName","setAlertName","fetch","headers","then","response","json","data","featured","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","el","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e27910ab.chunk.js","sourcesContent":["function Header(){\r\n    return <nav className=\"deep-purple darken-1\">\r\n        <div className=\"nav-wrapper\">\r\n            <a href=\"/\" className=\"brand-logo\">React Shop</a>\r\n            <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                <li><a href=\"https://github.com/Brokenbass90/react-store\" target=\"_blank\" rel=\"noreferrer\">Repos</a></li>\r\n            </ul>\r\n        </div>\r\n    </nav>\r\n\r\n}\r\n\r\nexport {Header} ","\r\nfunction Footer() {\r\n    return <footer className=\"page-footer grey darken-4\">\r\n        <div className=\"footer-copyright\">\r\n            <div className=\"container\">\r\n                © {new Date().getFullYear()} React studies\r\n                <a className=\"grey-text text-lighten-4 right\" href=\"https://github.com/Brokenbass90/react-store\" target=\"_blank\" rel=\"noreferrer\">Repos</a>\r\n            </div>\r\n        </div>\r\n    </footer>\r\n}\r\n\r\nexport {Footer}","function Preloader() {\r\n    return (\r\n        <div className=\"spinner-layer spinner-red\">\r\n            <div className=\"circle-clipper left\">\r\n            <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n            <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n            <div className=\"circle\"></div>\r\n            </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport {Preloader};","function GoodsItem(props){\r\n    const {\r\n        id,\r\n        name,\r\n        description,\r\n        price,\r\n        full_background,\r\n        addToBasket = Function.prototype,\r\n    } = props;\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"card-image\">\r\n\r\n                <img src={full_background} alt={name} />\r\n            </div>\r\n            <div className=\"card-content\">\r\n                <span className=\"card-title\">{name}</span>\r\n                <p>{description}</p>\r\n            </div>\r\n            <div className=\"card-action\">\r\n                <button className='btn' onClick={() => addToBasket({\r\n                    id,\r\n                    name,\r\n                    price,\r\n                })}>Купить</button>\r\n                <span className='right price'>{price} руб.</span>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport {GoodsItem};","import {GoodsItem} from '../components/GoodsItem';\r\n\r\nfunction GoodsList(props) {\r\n    const {goods = [], addToBasket = Function.prototype} = props;\r\n\r\n    if(!goods.length) {\r\n        return <h3>Ничего нету</h3>\r\n    } \r\n    return <div className='goods'>\r\n        {goods.map(item => (\r\n            <GoodsItem key={item.id} {...item} addToBasket={addToBasket} />\r\n        ))}\r\n    </div>\r\n    \r\n}\r\n\r\nexport {GoodsList};","function Cart(props){\r\n    const {quantity = 0, handleBaskedShow = Function.prototype} = props;\r\n\r\n    return <div className=\"cart deep-purple darken-3 white-text\" onClick={handleBaskedShow}>\r\n        <i className=\"material-icons\">local_grocery_store</i>\r\n        {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\r\n    </div>\r\n}\r\n\r\nexport {Cart};","function BasketItem(props) {\r\n\r\n    const {\r\n        id,\r\n        name,\r\n        price,\r\n        quantity,\r\n        removeFromBasket=Function.prototype,\r\n        incQuantity=Function.prototype,\r\n        decQuantity=Function.prototype,\r\n     } = props;\r\n    return (\r\n        <li className=\"collection-item\">\r\n            {name} x {quantity} = {price * quantity} Руб.\r\n            <button className=\"basket-buttons\" onClick={() => decQuantity(id)}>-</button>\r\n            <button className=\"basket-buttons\" onClick={() => incQuantity(id)}>+</button>\r\n            <span class=\"secondary-content\" onClick={() => removeFromBasket(id)}>\r\n                <i class=\"material-icons basket-delete\" >clear</i></span>\r\n        </li>\r\n    )\r\n\r\n}\r\n\r\nexport {BasketItem};","import {BasketItem} from '../components/BasketItem';\r\n\r\nfunction BasketList(props) {\r\n    const {order = [], \r\n        handleBaskedShow = Function.prototype, \r\n        removeFromBasket=Function.prototype,\r\n        incQuantity=Function.prototype,\r\n        decQuantity=Function.prototype,\r\n    } = props;\r\n\r\n    const totalPrice = order.reduce((sum, elem) => {\r\n        return sum + elem.price * elem.quantity\r\n    }, 0);\r\n    return (\r\n        <ul className=\"collection basket-list\">\r\n            <i className=\"material-icons basket-close\" onClick={handleBaskedShow}>clear</i>\r\n            <li className=\"collection-item active\">Корзина</li>\r\n            {\r\n                order.length ? order.map(item => (\r\n                    <BasketItem key={item.id} \r\n                        removeFromBasket={removeFromBasket}  \r\n                        incQuantity={incQuantity}\r\n                        decQuantity={decQuantity} \r\n                        {...item}\r\n                    />\r\n                )) : (\r\n                    <li className=\"collection-item\">Корзина пуста</li>\r\n                )}\r\n\r\n            <li className=\"collection-item active\">Общая стоимость: {totalPrice} Руб.</li>\r\n      </ul>\r\n      \r\n    )\r\n}\r\n\r\nexport {BasketList};","import React, {useEffect} from \"react\";\r\n\r\nfunction Alert(props) {\r\n    const {name = '', closeAlert = Function.prototype} = props;\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(closeAlert, 3000);\r\n        return () => {\r\n            clearTimeout(timerId);\r\n        }\r\n        //eslint-disable-next-line\r\n    }, [name])\r\n\r\n    return ( \r\n        <div id=\"toast-container\">\r\n            <div className=\"toast\">{name} добавлен в корзину</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport {Alert}","import React, {useState, useEffect} from \"react\";\r\nimport {API_KEY, API_URL} from '../config';\r\n\r\nimport {Preloader} from '../components/Preloader';\r\nimport {GoodsList} from '../components/GoodsList';\r\nimport {Cart} from '../components/Cart';\r\nimport {BasketList} from '../components/BasketList';\r\nimport {Alert} from '../components/Alert';\r\n\r\nfunction Main() {\r\n    const [goods, setGoods] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [order, setOrder] = useState([]);\r\n    const [isBasketShow, setBaskedShow] = useState(false);\r\n    const [alertName, setAlertName] = useState('');\r\n\r\n    useEffect(function getGoods(){\r\n        fetch(API_URL, {\r\n            headers: {\r\n                'Authorization': API_KEY,\r\n            },\r\n        }).then(response => response.json()).then(data => {\r\n            data.featured && setGoods(data.featured);\r\n            setLoading(false);\r\n        })\r\n    }, [])\r\n\r\n    const handleBaskedShow = () => {\r\n        setBaskedShow(!isBasketShow);\r\n    }\r\n\r\n    const closeAlert = () => {\r\n        setAlertName('');\r\n    }\r\n\r\n    const addToBasket = (item) => {\r\n        const itemIndex = order.findIndex(orderItem => orderItem.id === item.id);\r\n\r\n        if(itemIndex < 0){\r\n            const newItem = {\r\n                ...item,\r\n                quantity: 1,\r\n            }\r\n            setOrder([...order, newItem]);\r\n        } else {\r\n            const newOrder = order.map((orderItem, index) => {\r\n                if(index === itemIndex) {\r\n                    return {\r\n                        ...orderItem,\r\n                        quantity:orderItem.quantity +1,\r\n                    }\r\n                } else {\r\n                    return orderItem;\r\n                }\r\n            })\r\n\r\n            setOrder(newOrder);\r\n        } \r\n        setAlertName(item.name);\r\n    }\r\n\r\n    const removeFromBasket = (itemId) => {\r\n        const newOrder = order.filter(el => el.id !== itemId);\r\n        setOrder(newOrder);\r\n    }\r\n\r\n    const incQuantity = (itemId) => {\r\n        const newOrder = order.map(el => {\r\n            if(el.id === itemId) {\r\n                const newQuantity = el.quantity + 1;\r\n                return {\r\n                    ...el,\r\n                    quantity: newQuantity,\r\n                }\r\n            } else {\r\n                return el;\r\n            }\r\n        })\r\n        setOrder(newOrder);\r\n    }\r\n\r\n    const decQuantity = (itemId) => {\r\n        const newOrder = order.map(el => {\r\n            if(el.id === itemId) {\r\n                const newQuantity = el.quantity - 1;\r\n                return {\r\n                    ...el,\r\n                    quantity: newQuantity >= 0 ? newQuantity : 0,\r\n                }\r\n            } else {\r\n                return el;\r\n            }\r\n        })\r\n        setOrder(newOrder);\r\n    }\r\n\r\n    return (\r\n        <main className='container content'>\r\n            <Cart quantity={order.length} handleBaskedShow={handleBaskedShow} />\r\n            {\r\n                loading ? (\r\n                    <Preloader />\r\n                    ) : ( \r\n                        <GoodsList goods={goods} addToBasket={addToBasket}/>\r\n                    )}\r\n            {isBasketShow && (<BasketList order={order} \r\n                    handleBaskedShow={handleBaskedShow} \r\n                    removeFromBasket={removeFromBasket}\r\n                    incQuantity={incQuantity}\r\n                    decQuantity={decQuantity}\r\n                />\r\n                )}    \r\n            {\r\n                alertName && <Alert name={alertName} closeAlert={closeAlert}/>\r\n            }    \r\n        </main>\r\n\r\n    )\r\n};\r\n\r\nexport {Main};\r\n\r\n","const API_KEY = \"0ee9aa6a-3fd3016c-c70b9766-709b14d3\";\r\n// process.env.REACT_APP_API_KEY;\r\n// 0ee9aa6a-3fd3016c-c70b9766-709b14d3\r\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\r\nexport {\r\n    API_KEY,\r\n    API_URL,\r\n};","import {Header} from \"./components/Header\";\nimport {Footer} from \"./components/Footer\";\nimport {Main} from './components/Main';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Main />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}